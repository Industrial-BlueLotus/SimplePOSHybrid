@page "/"
@layout MainLayout
@using SimplePOSHybrid.Data
@using SimplePOSHybrid.Models.PartnerMenu


<MudGrid Justify="Justify.Center"  >

    <MudAppBar Style="background-color:#060696" Fixed="false" Dense="false" DisableGutters="false" Class="mt-2">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" Class="ma-2" />
        <MudText Class="ma-4" Style="font-weight:800;font-size:large">BLX Super Mart</MudText>
            <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Filled.Logout" Color="Color.Inherit" Href="/"/>
        </MudAppBar>
   
    <MudGrid >
        <MudItem xs="7">
            <MudTabs Elevation="1" Rounded="true" PanelClass="pa-6" Color="@Color.Primary">

                
                @foreach (string item in tabscat)
                {
                    <MudTabPanel Text=@item ToolTip="Choose a Category">
                        <MudText>Item One</MudText>
                     </MudTabPanel>
                    Console.WriteLine(item);
                }

            </MudTabs>
        </MudItem>
        <MudItem xs="5">
            <MudButton Variant="Variant.Filled" OnClick="Load">Default</MudButton>
        </MudItem>
    </MudGrid>
   
    
</MudGrid>


@code{

    public string[] tabscat = new string[] { };


    public Rootobject test;
    public async void Load()
    {
        DashboardView dashboard = new DashboardView();
        test = await dashboard.LoadResponse();
        tabscat = DashboardView.InsertCat(test);
        Console.WriteLine(tabscat);
        StateHasChanged();
        dashboard.GetItems();
    }

    protected override void OnInitialized()
    {
        Load();
        //DashboardView dashboard = new DashboardView();
        //dashboard.GetItems();
    }


 

    
    

}