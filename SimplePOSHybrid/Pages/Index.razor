@page "/"
@layout MainLayout
@using SimplePOSHybrid.Data
@using SimplePOSHybrid.Models.PartnerMenu


<MudGrid Justify="Justify.Center"  >

    <MudAppBar Style="background-color:#060696" Fixed="false" Dense="false" DisableGutters="false" Class="mt-2">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" Class="ma-2" />
        <MudText Class="ma-4" Style="font-weight:800;font-size:large">BLX Super Mart</MudText>
            <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Filled.Logout" Color="Color.Inherit" />
        </MudAppBar>
   
    <MudGrid >
        <MudItem xs="7">
            <MudTabs Elevation="1" Rounded="true" PanelClass="pa-6" Color="@Color.Primary">

                
               @* @foreach (var item in arr)
                {
                    
                }
*@
                <MudTabPanel Text="Item one" ToolTip="ToolTip One">
                    <MudText>Item One</MudText>
                </MudTabPanel>
                <MudTabPanel Text="Item Two" ToolTip="ToolTip Two">
                    <MudText>Item Two</MudText>
                </MudTabPanel>
                <MudTabPanel Text="Item Three" ToolTip="ToolTip Three">
                    <MudText>Item Three</MudText>
                </MudTabPanel>
                <MudTabPanel Text="Item Four" ToolTip="ToolTip Two">
                    <MudText>Item Four</MudText>
                </MudTabPanel>
                <MudTabPanel Text="Item Five" ToolTip="ToolTip Three">
                    <MudText>Item Five</MudText>
                </MudTabPanel>
            </MudTabs>
        </MudItem>
        <MudItem xs="5">
            <MudButton Variant="Variant.Filled" OnClick="Load">Default</MudButton>
        </MudItem>
    </MudGrid>
   
    
</MudGrid>


@code{

    

    public Rootobject test;
    public async void Load()
    {
        DashboardView dashboard = new DashboardView();
        test = await dashboard.LoadResponse();
        Console.WriteLine(test);
        insertCat(test);
    }


    public string[] insertCat(Rootobject te)
    {
        int index = 0;
        int n = te.ResponseData.MenuItemList.Length;
        string[] cate = new string[n];


        for (int i = 0; i < n; i++)
        {

            index = Array.IndexOf(cate,te.ResponseData.MenuItemList[i].CategoryCode);
            if (index.Equals(-1))
            {
                cate[i] = te.ResponseData.MenuItemList[i].CategoryCode;
                Console.WriteLine(cate[i]);
            }
            else
            {

                continue;
            }
        }

        int j = 0;


        for (int i = 0; i < n; i++)
        {
            if (cate[i] != null)
            {

                j++;

            }
            else
            {
                continue;
            }
        }


        string[] arr = new string[j];
        int m = 0;
        for (int i = 0; i < n; i++)
        {
            if (cate[i] != null)
            {
                if(m < j)
                {
                    arr[m] = cate[i];
                    m++;
                }

            }
            else
            {
                continue;
            }
        }
        Console.WriteLine(arr);
        return arr;
    }

}